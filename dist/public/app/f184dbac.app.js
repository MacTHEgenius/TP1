"use strict";angular.module("webApp",["ngCookies","ngResource","ngSanitize","ngRoute","ui.bootstrap"]).config(["$routeProvider","$locationProvider",function(a,b){a.otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),angular.module("webApp").controller("ContactCtrl",["$scope",function(a){a.dropdownElements=[{reason:"Problème technique"},{reason:"Don"},{reason:"Commentaire"},{reason:"Entreprise"}],a.showContactForm=!0,a.submit=function(){a.isFormValid()?a.showContactForm=!1:(a.contactForm.username.$touched=!0,a.contactForm.reason.$touched=!0,a.contactForm.email.$touched=!0,a.contactForm.message.$touched=!0)},a.isFormValid=function(){return a.contactForm.$valid}}]),angular.module("webApp").config(["$routeProvider",function(a){a.when("/contact",{templateUrl:"app/contact/contact.html",controller:"ContactCtrl"})}]);var myApp=angular.module("webApp");myApp.controller("inscriptionController",["$scope",function(a){a.showForm=!0,a.isValid=function(){return a.inscriptionForm.$valid&&a.passwordM==a.confirmPasswordM},a.submit=function(){a.isValid()?a.showForm=!1:(a.inscriptionForm.firstnameInput.$touched=!0,a.inscriptionForm.nameInput.$touched=!0,a.inscriptionForm.emailInput.$touched=!0,a.inscriptionForm.passwordInput.$touched=!0,a.inscriptionForm.confirmPasswordInput.$touched=!0)}}]),angular.module("webApp").config(["$routeProvider",function(a){a.when("/inscription",{templateUrl:"app/inscription/inscription.html",controller:"inscriptionController"})}]),angular.module("webApp").controller("mainCtrl",function(){}),angular.module("webApp").config(["$routeProvider",function(a){a.when("/",{templateUrl:"app/main/main.html",controller:"mainCtrl"})}]);var myApp=angular.module("webApp");myApp.controller("newMoviesController",["$scope","$http",function(a,b){a.showMovies=!1,a.showServerError=!1,a.datas=[],a.getFilms=function(){b.get("https://omdbapi.com/",{params:{s:"the",y:2016},timeout:2e3}).then(function(b){if("False"==b.data.Response)return a.showMovies=!1,void(a.showServerError=!0);a.showMovies=!0,a.showServerError=!1;for(var c=0;c<b.data.Search.length;c++)"N/A"!==b.data.Search[c].Poster&&(b.data.Search[c].Poster=b.data.Search[c].Poster.substr(0,4)+"s"+b.data.Search[c].Poster.substr(4));a.datas=b.data.Search},function(){a.showMovies=!1,a.showServerError=!0})},a.getFilms()}]),angular.module("webApp").config(["$routeProvider",function(a){a.when("/newMovies",{templateUrl:"app/newMovies/newMovies.html",controller:"newMoviesController"})}]);var myApp=angular.module("webApp");myApp.controller("searchController",["$scope","$http",function(a,b){a.showMovies=!1,a.showEmptyError=!1,a.showServerError=!1,a.showNoResultError=!1,a.totalResults=0,a.datas=[],a.submit=function(){return void 0===a.searchM&&(a.searchM=""),a.searchM.length<2?(a.showEmptyError=!0,a.showServerError=!1,a.showMovies=!1,void(a.showNoResultError=!1)):(a.showEmptyError=!1,void b.get("https://omdbapi.com/",{params:{s:a.searchM},timeout:2e3}).then(function(b){if("False"==b.data.Response)return a.showServerError=!1,a.showMovies=!1,void(a.showNoResultError=!0);a.showServerError=!1,a.showMovies=!0,a.showNoResultError=!1,a.totalResults=b.data.totalResults;for(var c=0;c<b.data.Search.length;c++)"N/A"!==b.data.Search[c].Poster&&(b.data.Search[c].Poster=b.data.Search[c].Poster.substr(0,4)+"s"+b.data.Search[c].Poster.substr(4));a.datas=b.data.Search},function(){a.showServerError=!0,a.showMovies=!1,a.showNoResultError=!1}))}}]),angular.module("webApp").config(["$routeProvider",function(a){a.when("/search",{templateUrl:"app/search/search.html",controller:"searchController"})}]),angular.module("webApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("webApp").controller("NavbarCtrl",["$scope","$location",function(a,b){a.menu=[{title:"Accueil",link:"/"},{title:"Nouveautés",link:"/newMovies"},{title:"Recherche",link:"/search"},{title:"Inscription",link:"/inscription"},{title:"Contact",link:"/contact"}],a.isCollapsed=!0,a.isActive=function(a){return a===b.path()}}]),angular.module("webApp").run(["$templateCache",function(a){a.put("app/contact/contact.html",'<link rel=stylesheet href=contact.css><div ng-controller=ContactCtrl><div class=jumbotron><h1>Contact</h1></div><hr><br><div class=container><form novalidate class=form-horizontal name=contactForm ng-show=showContactForm><div class=form-group><label class="control-label col-xs-3">Nom de l\'utilisateur</label><div class=col-xs-4><input class=form-control name=username placeholder="Nom d\'utilisateur" ng-model=username required ng-pattern="/[a-zA-Z -]+/"> <span ng-show="contactForm.username.$error.pattern && !contactForm.username.$error.required" style=color:red>Le nom d\'utilisateur est non-valide.</span> <span ng-show="contactForm.username.$touched && contactForm.username.$error.required" style=color:red>Le nom d\'utilisateur est requis.</span></div></div><div class=form-group><label class="control-label col-xs-3">Raison du contact</label><div class=col-xs-4><select class=form-control title=Choisir... name=reason required ng-model=reason><option ng-repeat="element in dropdownElements"><div>{{element.reason}}</div></option></select><span ng-show="contactForm.reason.$touched && contactForm.reason.$error.required" style=color:red>La raison est requise.</span></div></div><div class=form-group><label class="col-xs-3 control-label">Email</label><div class=col-sm-6><input class=form-control type=email name=email placeholder=Email required ng-model=email> <span ng-show="contactForm.email.$touched && contactForm.email.$error.required" style=color:red>Le email est requis.</span> <span ng-show="contactForm.email.$touched && contactForm.email.$error.email" style=color:red>Le email est non-valide.</span></div></div><div class=form-group><label class="col-xs-3 control-label">Message</label><div class=col-sm-9><textarea class=form-control name=message rows=5 placeholder="Votre message..." required ng-model="message">\n          <span ng-show="contactForm.message.$touched && contactForm.message.$error.required" style=color:red>Le message est requis.</span>\n        </div>\n      </div>\n\n      <div class=form-group>\n        <div class="col-xs-offset-3 col-xs-10">\n          <button class="btn btn-primary" type=submit name=button ng-click=submit()>Envoyer</button>\n        </div>\n      </div>\n\n    </form>\n  </div>\n\n  <br>\n\n  <div class=form-horizontal ng-show=!showContactForm>\n      <div class=form-group>\n          <label class="control-label col-xs-3">Nom d\'utilisateur</label>\n          <div class=col-xs-9>\n              {{username}}\n          </div>\n      </div>\n      <div class=form-group>\n          <label class="control-label col-xs-3">Raison</label>\n          <div class=col-xs-9>\n              {{reason}}\n          </div>\n      </div>\n      <div class=form-group>\n          <label class="control-label col-xs-3">Email</label>\n          <div class=col-xs-9>\n              {{email}}\n          </div>\n      </div>\n      <div class=form-group>\n          <label class="control-label col-xs-3">Message</label>\n          <p class=col-xs-9>\n              {{message}}\n          </p>\n      </div>\n  </div>\n\n</div>'),a.put("app/inscription/inscription.html",'<link rel=stylesheet href=inscription.css><div ng-controller=inscriptionController><form novalidate name=inscriptionForm ng-show=showForm><div ng-class=control-group>Prénom :<br><input class=form-control name=firstnameInput ng-model=firstName required ng-pattern="/[A-Za-z -]+/"> <span ng-show="inscriptionForm.firstnameInput.$touched && inscriptionForm.firstnameInput.$error.required" style=color:red>Le prénom est requis.</span> <span ng-show="!inscriptionForm.firstnameInput.$error.required && inscriptionForm.firstnameInput.$error.pattern" style=color:red>Le prénom doit être valide.</span><br><br></div>Nom :<br><input class=form-control name=nameInput ng-model=nameM required ng-pattern="/[A-Za-z -]+/"> <span ng-show="inscriptionForm.nameInput.$touched && inscriptionForm.nameInput.$error.required" style=color:red>Le nom est requis.</span> <span ng-show="!inscriptionForm.nameInput.$error.required && inscriptionForm.nameInput.$error.pattern" style=color:red>Le nom doit être valide.</span><br><br>Addresse courriel :<br><input class=form-control type=email name=emailInput ng-model=emailM required> <span ng-show="inscriptionForm.emailInput.$touched && inscriptionForm.emailInput.$error.required" style=color:red>L\'addresse couriel est requise.</span> <span ng-show="inscriptionForm.emailInput.$touched && inscriptionForm.emailInput.$error.email" style=color:red>L\'addresse couriel doit être valide.</span><br><br>Mot de passe :<br><input class=form-control name=passwordInput ng-model=passwordM type=password required> <span ng-show="inscriptionForm.passwordInput.$touched && inscriptionForm.passwordInput.$error.required" style=color:red>Le mot de passe est requis.</span><br><br>Confirmation du mot de passe :<br><input class=form-control name=confirmPasswordInput ng-model=confirmPasswordM type=password required> <span ng-show="inscriptionForm.confirmPasswordInput.$touched && inscriptionForm.confirmPasswordInput.$error.required" style=color:red>La confirmation du mot de passe est requise.</span> <span ng-show="!inscriptionForm.confirmPasswordInput.$error.required && confirmPasswordM!=passwordM" style=color:red>Le mot de passe n\'est pas semblable.</span> <span ng-show="!inscriptionForm.confirmPasswordInput.$error.required && confirmPasswordM==passwordM" style=color:green>Confirmé.</span><br><br><input id=idSubmitButton class="btn btn-default" type=button value=Confirmer ng-click="submit()"><br><br></form><div ng-show=!showForm><h4>Nom :</h4><p id=confirmationId>{{firstName}} {{nameM}}</p><h4>Addresse couriel :</h4><p>{{emailM}}</p><h4>Le mot de passe fait {{passwordM.length}} charactères</h4><p>Merci de participer au Grand Projet!</p></div></div>'),a.put("app/main/main.html","<link rel=stylesheet href=main.css><div ng-controller=mainCtrl><div>Main Page</div></div>"),a.put("app/newMovies/newMovies.html",'<link rel=stylesheet href=newMovies.css><div ng-controller=newMoviesController><span id=serverErrorId ng-show=showServerError style=color:red>Une erreur est survenue pendant l\'appel du serveur. <a onclick="location.reload(true); return false"><button>Actualiser</button></a></span><div ng-show=showMovies><h1>Films de l\'année 2016</h1><ul><li ng-repeat="data in datas | limitTo:6"><h3>{{data.Title}}<span ng-if="data.Poster!=\'N/A\'"><img ng-src="{{data.Poster}}"></span> <span ng-show="data.Poster==\'N/A\'"><p>Pas de Poster</p></span><hr></h3></li></ul></div><br><br></div>'),a.put("app/search/search.html",'<link rel=stylesheet href=search.css><div ng-controller=searchController><form class=form-group><p>Recherche :</p><input class=form-control ng-model=searchM placeholder="Titre..."> <span id=emptyErrorId ng-show=showEmptyError style=color:red>Vous devez entrer au moins deux lettre.</span><br><br><button id=submitButtonId class="btn btn-default" ng-click=submit()>Rechercher</button></form><br><br><span id=serverErrorId ng-show=showServerError style=color:red>Une erreur est survenue pendant l\'appel du serveur.</span> <span id=noResultErrorId ng-show=showNoResultError style=color:red>Aucun résultat pour la requête spécifiée.</span><div ng-show=showMovies><p>Nombre de films : {{totalResults}}</p><ul><li ng-repeat="data in datas"><h3>{{data.Title}}<span ng-if="data.Poster!=\'N/A\'"><img ng-src="{{data.Poster}}"></span> <span ng-show="data.Poster==\'N/A\'"><p>Pas de Poster</p></span><p>{{data.Year}}</p><hr></h3></li></ul></div><br><br></div>'),a.put("components/footer/footer.html","<footer class=footer><div class=container>Xavier-Charles Lebel / Benoît Levesque / 2016</div></footer>"),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarCtrl><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="isCollapsed = !isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="/" class=navbar-brand>TP1 Web</a></div><div collapse=isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}"><a ng-href={{item.link}}>{{item.title}}</a></li></ul></div></div></div>')}]);